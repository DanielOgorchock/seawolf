
%
% This is a new C language definition for use with the LaTeX listings package.
% This one providers support for highlighted operators among other things
%
% Operator style can be adjusted through keywordstyle=[1]{...} and C language
% keyword style can be adjusted through keywordstyle=[2]{...}. All other aspects
% are the same as the standard C definition
%

\lstdefinelanguage{Cextended}{ %
  morekeywords=[1]{}, %
  morekeywords=[2]{auto, break, case, char, const, continue, default, do, double, else, %
                   enum, extern, float, for, goto, if, inline, int, long, register, %
                   restrict, return, short, signed, sizeof, static, struct, switch, %
                   typedef, union, unsigned, void, volatile, while, NULL}, %
  otherkeywords={=, \{, \}, \%, \&, \^, ;, (, ), |, ->, --, ++, \&\&, ||, ==}, % We disclude * and / because they inferfere with comments in a way that can't yet be resolved
  deletekeywords={/*, */, //}, %
  morestring=[b]{"}, %
  morecomment=[l]{//}, %
  morecomment=[s]{/*}{*/}, %
  moredelim=*[directive]\#, %
  moredirectives={define, elif, else, endif, error, if, ifdef, ifndef, line, include, pragma, undef, warning}, %
  style=colored %
}[keywords,comments,strings,directives]

% Colored, pretty printing for the Cextended language definition
\lstdefinestyle{colored}{%
  % 
  % Line numbers
  numbers=left, %
  lineskip=2pt, %
  %
  % Framing and padding
  frame=lines, %
  aboveskip=10pt, %
  belowskip=10pt, %
  %
  % Spaces display
  showspaces=false, %
  showstringspaces=false, %
  %
  % Styles
  basicstyle=\sffamily\small, % Base style
  commentstyle=\color[rgb]{0.5, 0.5, 0.3}, % Comments
  keywordstyle=[1]{\ttfamily\color[rgb]{0.3, 0.5, 0.3}}, % Special characters and operators
  keywordstyle=[2]{\color[rgb]{0.3, 0.3, 0.5}\bfseries}, % Keywords
  stringstyle=\ttfamily\color[rgb]{0.5, 0.3, 0.3}, % Strings
  directivestyle=\color{black}\bfseries, % Preprocessor 
  numberstyle=\ttfamily\scriptsize % Line number format
}

\newcommand{\replacedots}[1]{\ldots{}}
\lstdefinelanguage{FileList}{ %
  moredelim=*[il][keywordstyle]{+}, %
  moredelim=[is][commentstyle]{/*}{*/}, %
  morekeywords=[3]{...}, %
  %
  frame=lines, %
  basicstyle=\rmfamily\small, %
  keywordstyle=\textit, %
  keywordstyle=[3]\replacedots, %
  commentstyle=\color[gray]{0.6}\scriptsize\textit %
}

